<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="property_menu" model="website.menu">        
        <field name="name">Properties</field>
        <field name="parent_id" ref="website.main_menu"/>
        <field name="url">estate/properties</field>
    </record>
    <data>
       
        <template id="property_page">
            <t t-call="website.layout">

                <div class="navbar-search ms-auto pagination justify-content-end" style="margin:20px;">
                    <t t-call="real_estate.customer_search"/>
                </div>
                <t t-set="title">Property</t>
                    <div class="oe_structure">
                        <div class="container">
                            <div class="row row-cols-2 row-cols-md-4">                                
                                <t t-foreach="properties" t-as="property">
                                <div class="col mb-4">
                                    <div class="card" style="width:200px;margin:20px;">
                                        <center>
                                            <img t-attf-src="data:image/png;base64,{{property.image}}" class="card-img-top embed-responsive-item"  style="width:100%;"/> 
                                        </center>
                                        <div class="card-body">
                                            <h5 class="card-title">
                                                 <a t-attf-href="/real_estate/{{ slug(property) }}">
                                                    <span t-out="property.name"/>
                                                </a>
                                            </h5>
                                          
                                            <p style="font-size:12px;">
                                               
                                               Expected price :<span t-out="property.expected_price"/>
                                            </p>
                                            Tags:
                                            <t t-foreach="property.property_tag_ids" t-as="tags">
                                                <span t-field="tags.name" class="badge text-bg-secondary"/>
                                            </t>
                                            <center><a t-attf-href="/real_estate/{{ slug(property) }}" class="btn btn-outline-info btn-sm">
                                                    View details
                                            </a></center>
                                        </div>
                                    </div>   
                                </div> 
                                </t>
                           
                                
                            </div>
                        </div>

                </div>
                <div class="products_pager d-flex justify-content-center pt-5 pb-3">
                                <t t-call="website.pager"/>
                            </div>
            </t>

        </template>

        <template id="description">
            <t t-call="website.layout">
                <!-- <div  class="col-md-4 col-xs-12 " style="text-align: center;  "> -->
                <t t-set="title">property</t>
                <div class="oe_structure"/>
                    <div class="oe_structure">
                        <div class="container">
                            
                            <h3 class="o_page_header mt32"> Property Name: <span class="text-primary" t-out="property.name"/></h3> 
                            <img t-attf-src="data:image/png;base64,{{property.image}}" style="float:right;width:180px;height:150px;"/>
                            <p>Expected Price : <span t-out="property.expected_price"/></p>
                            <p>Property type : <span t-out="property.property_type_id.name"/></p>
                            <p>Best offer : <span t-out="property.best_offer"/></p>
                            <p>Selling price : <span t-out="property.selling_price"/></p>
                            <p>bedrooms : <span t-out="property.bedrooms"/></p> 
                            <p>salesperson : <span t-out="property.salesperson.name"/></p>        
                        </div>
                        
                    </div>
                <div class="oe_structure"/>
                <!-- </div> -->
            </t>
        </template>
    </data>
</odoo>


